<div class="moves">
  @if (editAttacks) {
    <div class="edit-moves">
      <div>
        <div class="check-input-section-input">
          <app-input-autocomplete [value]="pokemon().moveSet.move1.name" [allValues]="allMoveNames" (valueChange)="store.moveOne(pokemonId(), $event)" />
        </div>
      </div>
      <div>
        <div class="check-input-section-input">
          <app-input-autocomplete [value]="pokemon().moveSet.move2.name" [allValues]="allMoveNames" (valueChange)="store.moveTwo(pokemonId(), $event)" />
        </div>
      </div>
      <div>
        <div class="check-input-section-input">
          <app-input-autocomplete [value]="pokemon().moveSet.move3.name" [allValues]="allMoveNames" (valueChange)="store.moveThree(pokemonId(), $event)" />
        </div>
      </div>
      <div>
        <div class="check-input-section-input">
          <app-input-autocomplete [value]="pokemon().moveSet.move4.name" [allValues]="allMoveNames" (valueChange)="store.moveFour(pokemonId(), $event)" />
        </div>
      </div>
      <div class="save-button" (click)="saveMoves()"><mat-icon class="edit-icon">save</mat-icon>Save</div>
    </div>
  } @else {
    <div class="no-edit-moves">
      <mat-chip-listbox>
        @if (pokemon().move1Name) {
          <mat-chip-option (click)="activateMove1()" [selected]="pokemon().activeMoveName === pokemon().move1Name">{{ pokemon().move1Name }}</mat-chip-option>
        }

        @if (pokemon().move2Name) {
          <mat-chip-option (click)="activateMove2()" [selected]="pokemon().activeMoveName === pokemon().move2Name">{{ pokemon().move2Name }}</mat-chip-option>
        }

        @if (pokemon().move3Name) {
          <mat-chip-option (click)="activateMove3()" [selected]="pokemon().activeMoveName === pokemon().move3Name">{{ pokemon().move3Name }}</mat-chip-option>
        }

        @if (pokemon().move4Name) {
          <mat-chip-option (click)="activateMove4()" [selected]="pokemon().activeMoveName === pokemon().move4Name">{{ pokemon().move4Name }}</mat-chip-option>
        }

        <div class="edit-button-section">
          <div (click)="editMoves()" class="edit-button"><mat-icon class="edit-icon">edit</mat-icon>Edit</div>
          <div class="hits-input">
            <app-multi-hit-combo-box [pokemonId]="pokemonId()" [leftLabel]="true" />
          </div>
        </div>
      </mat-chip-listbox>
    </div>
  }
</div>

<div class="combo-options">
  <div class="combo-option">
    <app-input-autocomplete label="Item" [value]="pokemon().item" [allValues]="allItemsNames" (valueChange)="store.item(pokemonId(), $event)" />
  </div>

  <div class="combo-option">
    <app-input-autocomplete label="Nature" [value]="pokemon().nature" [allValues]="allNatureNames" (valueChange)="store.nature(pokemonId(), $event)" />
  </div>

  <div class="combo-option">
    <app-input-autocomplete label="Status" [value]="pokemon().status.description" [allValues]="statusConditions" (valueChange)="store.status(pokemonId(), $event)" />
  </div>

  <div class="combo-option">
    <app-tera-combo-box [pokemonId]="pokemonId()" />
  </div>

  <div class="combo-option">
    <app-ability-combo-box [pokemonId]="pokemonId()" />
  </div>
</div>

<div class="evs">
  <app-ev-slider [pokemonId]="pokemonId()" [ev]="pokemon().evs.hp ?? 0" stat="hp" [reduced]="true" />
  <app-ev-slider [pokemonId]="pokemonId()" [ev]="pokemon().evs.atk ?? 0" stat="atk" [reduced]="true" />
  <app-ev-slider [pokemonId]="pokemonId()" [ev]="pokemon().evs.def ?? 0" stat="def" [reduced]="true" />
  <app-ev-slider [pokemonId]="pokemonId()" [ev]="pokemon().evs.spa ?? 0" stat="spa" [reduced]="true" />
  <app-ev-slider [pokemonId]="pokemonId()" [ev]="pokemon().evs.spd ?? 0" stat="spd" [reduced]="true" />
  <app-ev-slider [pokemonId]="pokemonId()" [ev]="pokemon().evs.spe ?? 0" stat="spe" [reduced]="true" />
</div>
