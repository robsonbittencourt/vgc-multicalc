<div class="field">
  <div class="header-left-pokemon">
    <span class="title-left-pokemon">Field</span>
    <mat-icon class="collapse-button" (click)="panelOpenState = !panelOpenState">arrow_drop_down</mat-icon>
  </div>
  <div *ngIf="panelOpenState || !mobile" class="field-container">
    <div>
      <mat-button-toggle-group multiple class="button-group">
        <mat-button-toggle [checked]="field.isTabletsOfRuin" (change)="field.isTabletsOfRuin = $event.source.checked">Tablets Of Ruin (-atk)</mat-button-toggle>
        <mat-button-toggle [checked]="field.isSwordOfRuin" (change)="field.isSwordOfRuin = $event.source.checked">Sword Of Ruin (-def)</mat-button-toggle>
      </mat-button-toggle-group>

      <mat-button-toggle-group multiple class="button-group">
        <mat-button-toggle [checked]="field.isVesselOfRuin" (change)="field.isVesselOfRuin = $event.source.checked">Vessel Of Ruin (-spa)</mat-button-toggle>
        <mat-button-toggle [checked]="field.isBeadsOfRuin" (change)="field.isBeadsOfRuin = $event.source.checked">Beads Of Ruin (-spd)</mat-button-toggle>
      </mat-button-toggle-group>
    </div>
    <div>
      <mat-button-toggle-group [(ngModel)]="field.weather" class="button-group botton-space">
        <mat-button-toggle value="Sun">Sun</mat-button-toggle>
        <mat-button-toggle value="Rain">Rain</mat-button-toggle>
        <mat-button-toggle value="Sand">Sand</mat-button-toggle>
        <mat-button-toggle value="Snow">Snow</mat-button-toggle>
      </mat-button-toggle-group>

      <mat-button-toggle-group [(ngModel)]="field.terrain" class="button-group botton-space">
        <mat-button-toggle value="Electric">Electric Terrain</mat-button-toggle>
        <mat-button-toggle value="Grassy">Grassy Terrain</mat-button-toggle>
        <mat-button-toggle value="Psychic">Psychic Terrain</mat-button-toggle>
        <mat-button-toggle value="Misty">Misty Terrain</mat-button-toggle>
      </mat-button-toggle-group>

      <mat-button-toggle-group multiple class="button-group botton-space">
        <mat-button-toggle [checked]="field.isMagicRoom" (change)="field.isMagicRoom = $event.source.checked">Magic Room</mat-button-toggle>
        <mat-button-toggle [checked]="field.isWonderRoom" (change)="field.isWonderRoom = $event.source.checked">Wonder Room</mat-button-toggle>
        <mat-button-toggle [checked]="field.isGravity" (change)="field.isGravity = $event.source.checked">Gravity</mat-button-toggle>
      </mat-button-toggle-group>
    </div>
    <div>
      <div class="field-subtitle">
        <label>Attacker</label>
      </div>
      <mat-button-toggle-group multiple class="button-group botton-space">
        <mat-button-toggle [checked]="field.attackerSide.isHelpingHand" (change)="field.attackerSide.isHelpingHand = $event.source.checked">Helping Hand</mat-button-toggle>
        <mat-button-toggle [checked]="field.attackerSide.isBattery" (change)="field.attackerSide.isBattery = $event.source.checked">Battery</mat-button-toggle>
        <mat-button-toggle [checked]="field.attackerSide.isPowerSpot" (change)="field.attackerSide.isPowerSpot = $event.source.checked">Power Spot</mat-button-toggle>
        <mat-button-toggle [checked]="field.attackerSide.isTailwind" (change)="field.attackerSide.isTailwind = $event.source.checked">Tailwind</mat-button-toggle>
      </mat-button-toggle-group>
    </div>  
    <div>
      <div class="field-subtitle">
        <label>Defenders</label>
      </div>
      <mat-button-toggle-group multiple class="button-group botton-space">
        <mat-button-toggle [checked]="field.defenderSide.isReflect" (change)="field.defenderSide.isReflect = $event.source.checked">Reflect</mat-button-toggle>
        <mat-button-toggle [checked]="field.defenderSide.isLightScreen" (change)="field.defenderSide.isLightScreen = $event.source.checked">Light Screen</mat-button-toggle>
        <mat-button-toggle [checked]="field.defenderSide.isAuroraVeil" (change)="field.defenderSide.isAuroraVeil = $event.source.checked">Aurora Veil</mat-button-toggle>
        <mat-button-toggle [checked]="field.defenderSide.isFriendGuard" (change)="field.defenderSide.isFriendGuard = $event.source.checked">Friend Guard</mat-button-toggle>
      </mat-button-toggle-group>

      <div class="button-group">
        <div class="max-width">
          <mat-button-toggle-group class="button-group">
            <mat-button-toggle class="max-width" [checked]="field.defenderSide.spikes == 3" (change)="field.defenderSide.spikes = 3">3 spikes</mat-button-toggle>
            <mat-button-toggle class="max-width" [checked]="field.defenderSide.spikes == 2" (change)="field.defenderSide.spikes = 2">2</mat-button-toggle>
            <mat-button-toggle class="max-width" [checked]="field.defenderSide.spikes == 1" (change)="field.defenderSide.spikes = 1">1</mat-button-toggle>
            <mat-button-toggle class="max-width" [checked]="field.defenderSide.spikes == 0" (change)="field.defenderSide.spikes = 0">0</mat-button-toggle>
          </mat-button-toggle-group>
        </div>

        <div class="max-width">
          <mat-button-toggle-group multiple class="button-group">
            <mat-button-toggle class="max-width" [checked]="field.defenderSide.isSR" (change)="field.defenderSide.isSR = $event.source.checked">Stealth Rock</mat-button-toggle>
            <mat-button-toggle class="max-width" [checked]="field.defenderSide.isSeeded" (change)="field.defenderSide.isSeeded = $event.source.checked">Leech Seed</mat-button-toggle>
          </mat-button-toggle-group>
        </div>
      </div>
    </div>
  </div>  
</div>