<div class="field">
  <div class="header">
    <span class="title">Field</span>
  </div>
  <div class="field-container text-color">
    <div>
      <div class="field-subtitle">
        <label>Both</label>
      </div>
      <mat-button-toggle-group multiple class="button-group">
        <mat-button-toggle [checked]="field.isTabletsOfRuin" (change)="field.isTabletsOfRuin = $event.source.checked">Tablets Of Ruin (-atk)</mat-button-toggle>
        <mat-button-toggle [checked]="field.isSwordOfRuin" (change)="field.isSwordOfRuin = $event.source.checked">Sword Of Ruin (-def)</mat-button-toggle>
      </mat-button-toggle-group>

      <mat-button-toggle-group multiple class="button-group botton-space">
        <mat-button-toggle [checked]="field.isVesselOfRuin" (change)="field.isVesselOfRuin = $event.source.checked">Vessel Of Ruin (-spa)</mat-button-toggle>
        <mat-button-toggle [checked]="field.isBeadsOfRuin" (change)="field.isBeadsOfRuin = $event.source.checked">Beads Of Ruin (-spd)</mat-button-toggle>
      </mat-button-toggle-group>

      <mat-button-toggle-group multiple (change)="toggleChangeWeather($event)" [(ngModel)]="field.weather" class="button-group">
        <mat-button-toggle value="Sun">Sun</mat-button-toggle>
        <mat-button-toggle value="Rain">Rain</mat-button-toggle>
        <mat-button-toggle value="Sand">Sand</mat-button-toggle>
        <mat-button-toggle value="Snow">Snow</mat-button-toggle>
      </mat-button-toggle-group>

      <mat-button-toggle-group multiple (change)="toggleChangeTerrain($event)" [(ngModel)]="field.terrain" class="button-group botton-space">
        <mat-button-toggle value="Electric">Electric Terrain</mat-button-toggle>
        <mat-button-toggle value="Grassy">Grassy Terrain</mat-button-toggle>
        <mat-button-toggle value="Psychic">Psychic Terrain</mat-button-toggle>
        <mat-button-toggle value="Misty">Misty Terrain</mat-button-toggle>
      </mat-button-toggle-group>

      <div class="rooms-section">
        <mat-button-toggle-group multiple class="button-group">
          <mat-button-toggle [checked]="field.isMagicRoom" (change)="field.isMagicRoom = $event.source.checked">Magic Room</mat-button-toggle>
          <mat-button-toggle [checked]="field.isWonderRoom" (change)="field.isWonderRoom = $event.source.checked">Wonder Room</mat-button-toggle>
          <mat-button-toggle [checked]="field.isGravity" (change)="field.isGravity = $event.source.checked">Gravity</mat-button-toggle>
        </mat-button-toggle-group>
      </div>
    </div>
    <div>
      <div class="field-subtitle">
        <label>Attacker</label>
      </div>
      <mat-button-toggle-group multiple class="button-group">
        <mat-button-toggle [checked]="field.attackerSide.isHelpingHand" (change)="field.attackerSide.isHelpingHand = $event.source.checked">Helping Hand</mat-button-toggle>
        <mat-button-toggle [checked]="field.attackerSide.isBattery" (change)="field.attackerSide.isBattery = $event.source.checked">Battery</mat-button-toggle>
        <mat-button-toggle [checked]="field.attackerSide.isPowerSpot" (change)="field.attackerSide.isPowerSpot = $event.source.checked">Power Spot</mat-button-toggle>
      </mat-button-toggle-group>

      <mat-button-toggle-group multiple class="button-group botton-space">
        <mat-button-toggle [checked]="criticalHit" (change)="onCriticalHitChance($event.source.checked)">Critical Hit</mat-button-toggle>
      </mat-button-toggle-group>

      <div class="status-tailwind">
        <div class="status">
          <label>Status</label>
          <app-input-autocomplete [(value)]="attackerStatusCondition" [allValues]="statusConditions" (valueChange)="onAttackerStatusChange($event)"/>
        </div>
        <div class="max-width">
          <mat-button-toggle-group multiple class="button-group">
            <mat-button-toggle [checked]="field.attackerSide.isTailwind" (change)="field.attackerSide.isTailwind = $event.source.checked">Tailwind</mat-button-toggle>
          </mat-button-toggle-group>
        </div>
      </div>
    </div>  
    <div>
      <div class="field-subtitle">
        <label>Defenders</label>
      </div>
      <mat-button-toggle-group multiple class="button-group botton-space">
        <mat-button-toggle [checked]="field.defenderSide.isReflect" (change)="field.defenderSide.isReflect = $event.source.checked">Reflect</mat-button-toggle>
        <mat-button-toggle [checked]="field.defenderSide.isLightScreen" (change)="field.defenderSide.isLightScreen = $event.source.checked">Light Screen</mat-button-toggle>
        <mat-button-toggle [checked]="field.defenderSide.isAuroraVeil" (change)="field.defenderSide.isAuroraVeil = $event.source.checked">Aurora Veil</mat-button-toggle>
      </mat-button-toggle-group>

      <mat-button-toggle-group multiple class="button-group botton-space">
        <mat-button-toggle [checked]="field.gameType == 'Singles'" (change)="oSingleTargetChance($event.source.checked)">Single Target</mat-button-toggle>
        <mat-button-toggle [checked]="field.defenderSide.isFriendGuard" (change)="field.defenderSide.isFriendGuard = $event.source.checked">Friend Guard</mat-button-toggle>
      </mat-button-toggle-group>

      <div class="button-group">
        <div class="max-width">
          <mat-button-toggle-group class="button-group">
            <mat-button-toggle class="max-width" [checked]="field.defenderSide.spikes == 3" (change)="field.defenderSide.spikes = 3">3 spikes</mat-button-toggle>
            <mat-button-toggle class="max-width" [checked]="field.defenderSide.spikes == 2" (change)="field.defenderSide.spikes = 2">2</mat-button-toggle>
            <mat-button-toggle class="max-width" [checked]="field.defenderSide.spikes == 1" (change)="field.defenderSide.spikes = 1">1</mat-button-toggle>
            <mat-button-toggle class="max-width" [checked]="field.defenderSide.spikes == 0" (change)="field.defenderSide.spikes = 0">0</mat-button-toggle>
          </mat-button-toggle-group>
        </div>

        <div class="max-width">
          <mat-button-toggle-group multiple class="button-group">
            <mat-button-toggle class="max-width" [checked]="field.defenderSide.isSR" (change)="field.defenderSide.isSR = $event.source.checked">Stealth Rock</mat-button-toggle>
            <mat-button-toggle class="max-width" [checked]="field.defenderSide.isSeeded" (change)="field.defenderSide.isSeeded = $event.source.checked">Leech Seed</mat-button-toggle>
          </mat-button-toggle-group>
        </div>
      </div>
    </div>
    <div>
      <div class="status-tailwind-defenders">
        <div class="status">
          <label>Status</label>
          <app-input-autocomplete [(value)]="defenderStatusCondition" [allValues]="statusConditions" (valueChange)="onDefenderStatusChange($event)"/>
        </div>
        <div class="max-width">
          <mat-button-toggle-group multiple class="button-group">
            <mat-button-toggle [checked]="field.defenderSide.isTailwind" (change)="field.defenderSide.isTailwind = $event.source.checked">Tailwind</mat-button-toggle>
          </mat-button-toggle-group>
        </div>
      </div>

      <div class="stats-modifiers">
        <div class="dense-2">
          <label>ATK</label>
          <mat-form-field appearance="outline" class="mat-ev-stat-modifier">
            <mat-select class="mat-small" [(value)]="boosts.atk" (selectionChange)="statsModifiersChanges()">
              <mat-option class="mat-small" *ngFor="let statsModifier of statsModifiers" [value]="statsModifier.value">{{ statsModifier.viewValue }}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="dense-2">
          <label>DEF</label>
          <mat-form-field appearance="outline" class="mat-ev-stat-modifier">
            <mat-select class="mat-small" [(value)]="boosts.def" (selectionChange)="statsModifiersChanges()">
              <mat-option class="mat-small" *ngFor="let statsModifier of statsModifiers" [value]="statsModifier.value">{{ statsModifier.viewValue }}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="dense-2">
          <label>SPA</label>
          <mat-form-field appearance="outline" class="mat-ev-stat-modifier">
            <mat-select class="mat-small" [(value)]="boosts.spa" (selectionChange)="statsModifiersChanges()">
              <mat-option class="mat-small" *ngFor="let statsModifier of statsModifiers" [value]="statsModifier.value">{{ statsModifier.viewValue }}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="dense-2">
          <label>SPD</label>
          <mat-form-field appearance="outline" class="mat-ev-stat-modifier">
            <mat-select class="mat-small" [(value)]="boosts.spd" (selectionChange)="statsModifiersChanges()">
              <mat-option class="mat-small" *ngFor="let statsModifier of statsModifiers" [value]="statsModifier.value">{{ statsModifier.viewValue }}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="dense-2">
          <label>SPE</label>
          <mat-form-field appearance="outline" class="mat-ev-stat-modifier">
            <mat-select class="mat-small" [(value)]="boosts.spe" (selectionChange)="statsModifiersChanges()">
              <mat-option class="mat-small" *ngFor="let statsModifier of statsModifiers" [value]="statsModifier.value">{{ statsModifier.viewValue }}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>
    </div>
  </div>  
</div>