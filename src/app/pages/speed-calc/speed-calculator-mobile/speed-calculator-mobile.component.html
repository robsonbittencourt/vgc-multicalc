<div class="container">
  <div class="pokemon-build">
    <div class="pokemon-build-sections">
      <div class="pokemon-build-section">
        <app-pokemon-combo-box class="combo-large" [pokemonId]="pokemonId()" (pokemonChanged)="resetEvs()" />
        <app-item-combo-box class="combo-large" [pokemonId]="pokemonId()" />
        <app-status-combo-box class="combo-small" [pokemonId]="pokemonId()" [statusConditions]="statusConditions" />
      </div>

      <div class="pokemon-build-section">
        <app-nature-combo-box class="combo-large" [pokemonId]="pokemonId()" />
        <app-ability-combo-box class="combo-large" [pokemonId]="pokemonId()" />
      </div>
    </div>
    <img class="pokemon-image" src="assets/sprites/pokemon-sv/{{ pokemon().name }}.png" />
  </div>

  <div class="evs">
    <app-ev-slider [pokemonId]="pokemonId()" [ev]="pokemon().evs.spe" stat="spe" [reduced]="true" />
  </div>

  <app-speed-scale class="speed-scale" [pokemonId]="pokemon().id" [pokemonEachSide]="7" (pokemonSelected)="selectedPokemon.set($event)" />

  <app-speed-insights class="card" [pokemon]="selectedPokemon()" />

  <app-widget class="card" title="Opponent Side">
    <app-opponent-options class="opponent-options" />
  </app-widget>

  <app-field class="card" onlySpeed="true" />

  <app-widget class="card" title="Filters">
    <div class="options">
      <app-input-select label="Regulation" leftLabel="true" [allValues]="regulationsList" [value]="optionsStore.regulation()" (valueChange)="updateRegulation($event)" />
      <app-input-select label="Top Usage" leftLabel="true" [allValues]="topUsageList" [value]="optionsStore.topUsage()" (valueChange)="optionsStore.updateTopUsage($event)" />
      <app-input-select label="Mode" leftLabel="true" [allValues]="speedCalculatorModes" [value]="optionsStore.mode()" (valueChange)="optionsStore.updateMode($event)" />
    </div>

    <div class="options">
      <app-input-autocomplete label="PokÃ©mon" leftLabel="true" [allValues]="optionsStore.pokemonNamesByReg()" [value]="optionsStore.targetName()" (valueChange)="optionsStore.updateTargetName($event)" />
      <mat-icon class="clear-button" (click)="optionsStore.clearTargetName()">clear</mat-icon>
    </div>
  </app-widget>
</div>
